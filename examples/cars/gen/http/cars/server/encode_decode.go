// Code generated by goa v2.0.0-wip, DO NOT EDIT.
//
// cars HTTP server encoders and decoders
//
// Command:
// $ goa gen goa.design/goa/examples/cars/design

package server

import (
	//"context"
	"net/http"

	goa "goa.design/goa"
	//carssvc "goa.design/goa/examples/cars/gen/cars"
	goahttp "goa.design/goa/http"
)

// DecodeListRequest returns a decoder for requests sent to the cars list
// endpoint.
func DecodeListRequest(mux goahttp.Muxer, decoder func(*http.Request) goahttp.Decoder) func(*http.Request) (interface{}, error) {
	return func(r *http.Request) (interface{}, error) {
		var (
			style string
			err   error
		)
		style = r.URL.Query().Get("style")
		if style == "" {
			err = goa.MergeErrors(err, goa.MissingFieldError("style", "query string"))
		}
		if !(style == "sedan" || style == "hatchback") {
			err = goa.MergeErrors(err, goa.InvalidEnumValueError("style", style, []interface{}{"sedan", "hatchback"}))
		}
		if err != nil {
			return nil, err
		}
		payload := NewListListPayload(style)

		return payload, nil
	}
}
